#include <iostream>
#include <math.h>
#include <stdio.h>

void printArray(int** arr, const int row, const int col);
void bubbleSort(int** array, const int row, const int col);

int main()
{
	//Task 1------------------------------------------------
	int row;	std::cout << "Enter count of rows: ";
	std::cin >> row;
	int col;	std::cout << "\nEnter count of columns: ";
	std::cin >> col;

	//Array declaration
	int** array = new int* [row];
	for (int i = 0; i < row; i++)
		array[i] = new int[col];

	//Array initialization
	for (int i = 0; i < row; i++)
		for (int j = 0; j < col; j++)
			array[i][j] = rand() % (row + col) + (rand() % 9);
	
	//Sort
	bubbleSort(array, row, col);

	//Array delete
	for (int i = 0; i < row; i++)
		delete[] array[i];


	//Task 2------------------------------------------------
	double inputs[11], check = 400, result;
	int i;

	printf("\nPlease enter 11 numbers :");

	for (i = 0; i < 11; i++) {
		scanf_s("%lf", &inputs[i]);
	}

	printf("\n\n\nEvaluating f(x) = |x|^0.5 + 5x^3 for the given inputs :");

	for (i = 10; i >= 0; i--) {
		result = sqrt(fabs(inputs[i])) + 5 * pow(inputs[i], 3);

		printf("\nf(%lf) = ");

		if (result > check) {
			printf("Overflow!");
		}

		else {
			printf("%lf", result);
		}
	}

	return 0;
}

void printArray(int** arr, const int row, const int col) {
	for (int i = 0; i < row; i++) {
		for (int j = 0; j < col; j++)
			printf("%4d", arr[i][j]);
		printf("\n");
	}
}

void bubbleSort(int** array, const int row, const int col) {
	//Print on screen before sort
	printArray(array, row, col);

	//Bubble sort
	for (int i = 0; i < row; i++)
		for (int j = 0; j < row; j++)
			for (int a = 0; a < col; a++)
				for (int b = 0; b < col; b++)
					if (array[a][b] > array[i][j]) {
						int temp = array[a][b];
						array[a][b] = array[i][j];
						array[i][j] = temp;
					}
	printf("\n");

	//Print on screen after sort
	printArray(array, row, col);
}
