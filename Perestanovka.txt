#include <iostream>
#include <string>

void enCode(int*, int*);
void deCode(int*, int*);

int main() {
	std::string str = "CESAR IS NOT DEAD THIS IS CESAR CODE";
	char* chr = _strdup(str.c_str());
	int* strCp = new int[str.length()];

	//copy
	for (int i = 0; i < str.length(); i++) {
		strCp[i] = chr[i];
		std::cout << (char)strCp[i];
	}	std::cout << "\n";

	//Variables
	int arrKey[6] = { 2, 5, 0, 4, 1, 3 };
	int arrDeCode[6] = { 2, 4, 0, 5, 3, 1};

	enCode(strCp, arrKey);
	deCode(strCp, arrDeCode);

	delete[] chr;
	delete[] strCp;
}

void enCode(int* strCp, int* arrKey) {
	int arrEnCode[6][6] = { 0 };
	int count = 0;
	for (int i = 0; i < 6; i++) {
		for (int j = 0; j < 6; j++) {
			arrEnCode[i][j] = strCp[arrKey[j]];
			arrKey[j] += 6;
		}
	}
	count = 0;
	for (int i = 0; i < 6; i++) {
		for (int j = 0; j < 6; j++) {
			strCp[count] = arrEnCode[i][j];
			std::cout << (char)strCp[count];
			count++;
		}
	}
	std::cout << "\n";
}

void deCode(int* strCp, int* arrDeCode) {
	int arrEnCode[6][6] = { 0 };
	int count = 0;
	for (int i = 0; i < 6; i++) {
		for (int j = 0; j < 6; j++) {
			arrEnCode[i][j] = strCp[arrDeCode[j]];
			arrDeCode[j] += 6;
		}
	}
	count = 0;
	for (int i = 0; i < 6; i++) {
		for (int j = 0; j < 6; j++) {
			strCp[count] = arrEnCode[i][j];
			std::cout << (char)strCp[count];
			count++;
		}
	}
}